<!DOCTYPE html>
<html>
<head>
  <title>ROBLOXXED - Recommended</title>
  <style>
    body { background-color: #001f3f; color: white; font-family: 'Segoe UI', sans-serif; text-align:center; padding: 20px; }
    .game-container { display: flex; justify-content: center; gap: 20px; flex-wrap: nowrap; overflow-x: auto; }
    .game { background-color: #003366; padding: 15px; border-radius: 10px; width: 280px; border: 2px solid #00aaff; }
    img { width: 100%; border-radius: 5px; }
    button { margin-top: 10px; background-color: #00aaff; border: none; border-radius: 5px; padding: 10px 20px; font-weight: bold; cursor: pointer; color: black; }
  </style>
</head>
<body>
  <h1>Recommended Games</h1>
  <div id="recommendedGames" class="game-container">Loading...</div>

  <script>
    async function fetchGames() {
      const res = await fetch('games.json');
      return res.json();
    }

    function getRandomGames(games, count = 5) {
      const shuffled = games.sort(() => 0.5 - Math.random());
      return shuffled.slice(0, count);
    }

    async function updateRecommended() {
      const allGames = await fetchGames();
      const randomGames = getRandomGames(allGames, 5);
      const container = document.getElementById('recommendedGames');
      container.innerHTML = '';
      randomGames.forEach(game => {
        const gameDiv = document.createElement('div');
        gameDiv.className = 'game';
        gameDiv.innerHTML = `
          <img src="${game.thumbnail}" alt="${game.name}">
          <h2>${game.name}</h2>
          <p>By ${game.creator}</p>
          <button onclick="location.href='roblox://placeId=${game.id}'">Play</button>
        `;
        container.appendChild(gameDiv);
      });
    }

    // Update every second (1000ms)
    setInterval(updateRecommended, 1000);
    updateRecommended();
  </script>
</body>
</html>
